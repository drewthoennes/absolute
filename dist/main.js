!function(t){function e(e){for(var o,i,s=e[0],l=e[1],c=e[2],p=0,f=[];p<s.length;p++)i=s[p],r[i]&&f.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(u&&u(e);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={0:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/public/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([100,1]),n()}({100:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(3),i=n.n(a),s=n(12),l=n(17),c=n.n(l),u=n(103),p=n(105),f=n(104),d=n(102),h=n(11),y=n.n(h),g=(n(74),n(15)),b=n(4),m=n.n(b);function v(t){m.a.log&&console.log(t)}function w(){var t=(new Date).getTime();return Math.floor((t-Y.getState().progress.start)/1e3)}function E(t,e){return e<0?t[0]:e>=t.length?t[t.length-1]:t[e]}function S(t){var e="",n=!0;for(var o in t)n?n=!1:e+="; ",e+=o+": ",e+=t[o];return e}function k(t){for(var e in t)return!(Y.getState().inventory[e].quantity<t[e])}function O(t){return Math.random()<=t}var _=n(2);function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var P={wood:{quantity:0,visible:!0},fire:{quantity:0,visible:!1,cost:{wood:0},recipe:{wood:[1]}},traps:{quantity:0,visible:!1,cost:{wood:5},recipe:{wood:[10,25,40,70,120]}},furs:{quantity:0,visible:!1},claws:{quantity:0,visible:!1},hides:{quantity:0,visible:!1},daggers:{quantity:0,visible:!1},gold:{quantity:0,visible:!1}},j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialState=e}var e,n,o;return e=t,(n=[{key:"load",value:function(){var t=this;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case _.SET_INVENTORY:return n.store;case _.GET_WOOD:return e.wood.quantity;case _.INC_WOOD:return n.val?Object.assign({},e,{wood:{quantity:e.wood.quantity+n.val,visible:e.wood.visible}}):Object.assign({},e,{wood:{quantity:e.wood.quantity+Math.floor(5*Math.random())+3,visible:e.wood.visible}});case _.DEC_WOOD:return n.val?Object.assign({},e,{wood:{quantity:e.wood.quantity-n.val<0?0:e.wood.quantity-n.val,visible:e.wood.visible}}):Object.assign({},e,{wood:{quantity:e.wood.quantity-1<0?0:e.wood.quantity-1,visible:e.wood.visible}});case _.EN_FIRE:return Object.assign({},e,{fire:{quantity:1,visible:!0,cost:{wood:E(e.fire.recipe.wood,e.fire.quantity)},recipe:e.fire.recipe}});case _.EN_TRAPS:return Object.assign({},e,{traps:{quantity:e.traps.quantity,visible:!0,cost:{wood:E(e.traps.recipe.wood,e.traps.quantity)},recipe:e.traps.recipe}});case _.INC_TRAPS:return n.val?Object.assign({},e,{traps:{quantity:e.traps.quantity+n.val,visible:e.traps.visible,cost:{wood:E(e.traps.recipe.wood,e.traps.quantity+1)},recipe:e.traps.recipe}}):Object.assign({},e,{traps:{quantity:e.traps.quantity+1,visible:e.traps.visible,cost:{wood:E(e.traps.recipe.wood,e.traps.quantity+1)},recipe:e.traps.recipe}});case _.DEC_TRAPS:return n.val?Object.assign({},e,{traps:{quantity:e.traps.quantity-n.val<0?0:e.traps.quantity-n.val,visible:e.traps.visible,cost:{wood:E(e.traps.recipe.wood,e.traps.quantity-1)},recipe:e.traps.recipe}}):Object.assign({},e,{traps:{quantity:e.traps.quantity-1<0?0:e.traps.quantity-1,visible:e.traps.visible,cost:{wood:E(e.traps.recipe.wood,e.traps.quantity-1)},recipe:e.traps.recipe}});case _.EN_FURS:return Object.assign({},e,{furs:{quantity:e.furs.quantity,visible:!0}});case _.INC_FURS:return n.val?Object.assign({},e,{furs:{quantity:e.furs.quantity+n.val,visible:e.furs.visible}}):Object.assign({},e,{furs:{quantity:e.furs.quantity+e.traps.quantity*(Math.floor(5*Math.random())+3),visible:e.furs.visible}});case _.DEC_FURS:return n.val?Object.assign({},e,{furs:{quantity:e.furs.quantity-n.val<0?0:e.furs.quantity-n.val,visible:e.furs.visible}}):Object.assign({},e,{furs:{quantity:e.furs.quantity-1<0?0:e.furs.quantity-1,visible:e.furs.visible}});case _.EN_CLAWS:return Object.assign({},e,{claws:{quantity:e.claws.quantity,visible:!0}});case _.INC_CLAWS:return n.val?Object.assign({},e,{claws:{quantity:e.claws.quantity+n.val,visible:e.claws.visible}}):Object.assign({},e,{claws:{quantity:e.claws.quantity+e.traps.quantity*(Math.floor(5*Math.random())+3),visible:e.claws.visible}});case _.DEC_CLAWS:return n.val?Object.assign({},e,{claws:{quantity:e.claws.quantity-n.val<0?0:e.claws.quantity-n.val,visible:e.claws.visible}}):Object.assign({},e,{claws:{quantity:e.claws.quantity-1<0?0:e.claws.quantity-1,visible:e.claws.visible}});case _.INC_GOLD:return n.val?Object.assign({},e,{gold:{quantity:e.gold.quantity+n.val,visible:!0}}):Object.assign({},e,{gold:{quantity:e.gold.quantity+Math.floor(5*Math.random())+3,visible:!0}});case _.DEC_GOLD:return n.val?Object.assign({},e,{gold:{quantity:e.gold.quantity-n.val<0?0:e.gold.quantity-n.val,visible:e.gold.visible}}):Object.assign({},e,{gold:{quantity:e.gold.quantity-1<0?0:e.gold.quantity-1,visible:e.gold.visible}});default:return e}}}}])&&x(e.prototype,n),o&&x(e,o),t}();function T(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var C={start:(new Date).getTime()},q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialState=e}var e,n,o;return e=t,(n=[{key:"load",value:function(){var t=this;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0,o=(new Date).getTime();switch(n.type){case _.SET_PROGRESS:return n.store.start=o-(n.store.end-n.store.end),n.store;case _.GET_TIME:return e.start-o;default:return e}}}}])&&T(e.prototype,n),o&&T(e,o),t}();function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var L={lines:{0:["The darkness of the forrest envelops you."],5:["You are surrounded by an open clearing."],120:["A strange figure approaches through the shadows."],123:["Says it expects payment for what you've taken as it slips back into the darkness."]},completed:[]},R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialState=e}var e,n,o;return e=t,(n=[{key:"load",value:function(){var t=this;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case _.SET_DIALOGUE:return n.store;case _.ADD_LINE:var o=Object.assign({},e,{});if(o.lines[n.time])o.lines[n.time].push(n.line);else{var r=[];r.push(n.line),o.lines[n.time]=r}return o;case _.DELETE_LINES:return delete e.lines[n.time],e;default:return e}}}}])&&D(e.prototype,n),o&&D(e,o),t}();function I(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var A,N,M={darkWoods:{enabled:!0,state:{},time:""},stonyPath:{enabled:!1,state:{},time:""},abandonedMine:{enabled:!1,state:{},time:""},tradingPost:{enabled:!1,state:{},time:""}},B=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialState=e}var e,n,o;return e=t,(n=[{key:"load",value:function(){var t=this;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case _.SET_AREAS:return n.store;case _.UPDATE_DARK_WOODS:return Object.assign({},e,{darkWoods:{enabled:e.darkWoods.enabled,state:n.data,time:(new Date).getTime()}});case _.EN_STONY_PATH:return Object.assign({},e,{stonyPath:{enabled:!0,state:e.stonyPath.state,time:e.stonyPath.time}});case _.UPDATE_STONY_PATH:return Object.assign({},e,{stonyPath:{enabled:e.stonyPath.enabled,state:n.data,time:(new Date).getTime()}});default:return e}}}}])&&I(e.prototype,n),o&&I(e,o),t}(),W=((N=JSON.parse(localStorage.getItem("gameState")))&&N.progress&&N.progress.stop&&delete N.progress.stop,JSON.parse(localStorage.getItem("gameState")));W&&(A=W);var F=new j(A?A.inventory:void 0),U=new R(A?A.dialogue:void 0),z=new B(A?A.areas:void 0),K=new q(A?A.progress:void 0),G=Object(g.b)({inventory:F.load(),progress:K.load(),dialogue:U.load(),areas:z.load()}),Y=Object(g.c)(G),H=function(t){return{type:_.SET_INVENTORY,store:t}},J=function(t){return{type:_.DEC_WOOD,val:t}},V=function(t){return{type:_.SET_DIALOGUE,store:t}},Q=function(t,e){return{type:_.ADD_LINE,line:t,time:e}},X=function(t){return{type:_.SET_AREAS,store:t}},Z=function(t){return{type:_.SET_PROGRESS,store:t}},$=(n(77),n(79),{fireEnable:{req:{wood:5},action:function(){Y.dispatch(Q("Wood can be used to start a fire to attract others.",w())),Y.dispatch({type:_.EN_FIRE})}},trapsEnable:{req:{wood:10},action:function(){Y.dispatch(Q("Traps can catch what you cannot.",w())),Y.dispatch({type:_.EN_TRAPS})}},stonyPathEnable:{req:{traps:1},action:function(){Y.dispatch(Q("You discover a small path not far from the clearing.",w())),Y.dispatch({type:_.EN_STONY_PATH})}},demandPayment:{req:{getTimeElapsed:30},interval:{time:300},action:function(){Y.dispatch(Q("Twightlight is falling.",w()));var t=Math.floor(3*Math.random());0==t?Y.dispatch(Q("A chill runs down your spine.",w()+10)):1==t?Y.dispatch(Q("Your fingers start to go numb.",w()+14)):2==t&&Y.dispatch(Q("You hear the bleating of lambs in the distance.",w()+6)),Y.dispatch(Q("The strange figure approaches",w()+30))}}});function tt(t,e){for(var n in e)if(t[n].quantity<e[n])return!1;return!0}function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var it=0,st=!1,lt=function(t){function e(t){var n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(r=ot(e).call(this,t))||"object"!==et(r)&&"function"!=typeof r?at(o):r).printLines=n.printLines.bind(at(at(n))),n.state={lines:[]},n.getOldLines(),n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,r.a.Component),n=e,(o=[{key:"tick",value:function(){var t,e;e=Y.getState().inventory,!$.fireEnable.done&&tt(e,$.fireEnable.req)&&($.fireEnable.action(),$.fireEnable.done=!0),!$.trapsEnable.done&&tt(e,$.trapsEnable.req)&&($.trapsEnable.action(),$.trapsEnable.done=!0),!$.stonyPathEnable.done&&tt(e,$.stonyPathEnable.req)&&($.stonyPathEnable.action(),$.stonyPathEnable.done=!0),t||(t=-1),w()%$.demandPayment.interval.time!=$.demandPayment.interval.time-1||$.demandPayment.done?t!=w()&&($.demandPayment.done=!1):($.demandPayment.action(),$.demandPayment.done=!0,t=w(),$.demandPayment.done=!0),this.printLines()}},{key:"getLines",value:function(t){return Y.getState().dialogue.lines[t]}},{key:"printLines",value:function(){var t=w();if(t>it)it=t,st=!0;else if(t==it&&st)return;var e=this.getLines(t);if(e){var n=this.state.lines.reverse().concat(e).reverse();n.length>m.a.maxFeedLength&&(n=n.slice(0,m.a.maxFeedLength)),this.setState({lines:n})}}},{key:"getOldLines",value:function(){var t=Y.getState().dialogue.lines,e=w();if(0!=e){var n=[],o=[];for(var r in t){if(r>e)break;t[r].forEach(function(t){n.push(t)}),o.push(r)}it=e,st=!0,n.length>m.a.maxFeedLength&&(n=n.slice(0,m.a.maxFeedLength)),this.state.lines=n.reverse()}}},{key:"render",value:function(){var t,e=0,n=this.state.lines.map(function(t){return r.a.createElement("p",{key:t+"-"+e++},t)});return t=m.a.maxFeedLength==this.state.lines.length?r.a.createElement("div",{className:"fade"}):"",r.a.createElement("div",{id:"feed"},r.a.createElement("div",{id:"lines"},n,t))}}])&&nt(n.prototype,o),a&&nt(n,a),e}();n(81);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=pt(this,ft(e).call(this,t))).state={items:["wood","furs","claws","hides","traps","daggers","gold"]},n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,r.a.Component),n=e,(o=[{key:"render",value:function(){var t=this,e=this.state.items.filter(function(e){return!!t.props[e]&&t.props[e].visible}).map(function(e){return r.a.createElement("div",{key:e,className:"material"},r.a.createElement("p",null,e,":"),r.a.createElement("p",null,t.props[e].quantity))});return r.a.createElement("div",{id:"inventory"},r.a.createElement("div",{id:"materials"},e))}}])&&ut(n.prototype,o),a&&ut(n,a),e}(),yt=Object(s.b)(function(t){return{wood:t.inventory.wood,furs:t.inventory.furs,claws:t.inventory.claws,hides:t.inventory.hides,traps:t.inventory.traps,daggers:t.inventory.daggers,gold:t.inventory.gold}})(ht);n(83),n(85);function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Et=function(t){function e(t){var n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(r=mt(e).call(this,t))||"object"!==gt(r)&&"function"!=typeof r?wt(o):r).cooldownClicked=n.cooldownClicked.bind(wt(wt(n))),n.state={initial:1,remaining:0,decrementing:!1,width:0,buttonClass:"cooldown-enabled"},n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(e,r.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){v("CooldownButton mounted")}},{key:"tick",value:function(){return v("CooldownButton tick"),this.state.decrementing&&(this.setState({remaining:this.state.remaining-m.a.delta,width:(this.state.remaining-m.a.delta)/this.state.initial*100}),this.state.remaining<=0&&this.setState({initial:1,remaining:0,width:0,decrementing:!1,buttonClass:"cooldown-enabled"})),this.state}},{key:"init",value:function(t,e){var n=(new Date).getTime()-e;v("Duration was "+n),t.remaining-=n,t<=0?this.setState({initial:t.initial,remaining:0,width:0,decrementing:!1,buttonClass:"cooldown-enabled"}):this.setState({initial:t.initial,remaining:t.remaining,width:0,decrementing:t.decrementing,buttonClass:"cooldown-disabled"})}},{key:"startCooldown",value:function(t){v("CooldownButton startCooldown"),this.setState({initial:t,remaining:t,width:100,decrementing:!0,buttonClass:"cooldown-disabled"})}},{key:"cooldownClicked",value:function(){!this.state.decrementing&&this.props.enabled&&(this.startCooldown(this.props.cooldown),this.props.cb())}},{key:"render",value:function(){var t=this,e=this.state.buttonClass;this.props.enabled||(e="cooldown-disabled");var n=this.props.enabled?"has-ingredients":"no-ingredients";return r.a.createElement("div",{tooltip:""==this.props.tooltip?void 0:this.props.tooltip,className:"cooldown-button "+e+" "+n,onClick:function(){return t.cooldownClicked()}},r.a.createElement("div",{className:"cooldown-button-text"},r.a.createElement("p",null,this.props.text)),r.a.createElement("div",{className:"cooldown",style:{width:this.state.width+"%"}}))}}])&&bt(n.prototype,o),a&&bt(n,a),e}();Et.defaultProps={text:"Sample text",tooltip:void 0,cooldown:5e3,enabled:!0,cb:function(){v("Error: CooldownButton does not have a callback")}};n(87);function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Pt=function(t){function e(t){var n,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(a=Ot(e).call(this,t))||"object"!==St(a)&&"function"!=typeof a?xt(o):a).gatherWoodButton=r.a.createRef(),n.stoakFireButton=r.a.createRef(),n.makeTrapButton=r.a.createRef(),n.init=n.init.bind(xt(xt(n))),n.makeTrap=n.makeTrap.bind(xt(xt(n))),n.state={area:"Dark Woods"},n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(e,r.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){v("DarkWoods mounted")}},{key:"tick",value:function(){return{gatherWoodButton:this.gatherWoodButton.current.tick(),stoakFireButton:this.stoakFireButton.current?this.stoakFireButton.current.tick():void 0,makeTrapButton:this.makeTrapButton.current?this.makeTrapButton.current.tick():void 0}}},{key:"init",value:function(t){0!=Object.keys(t.state).length&&(this.gatherWoodButton.current.init(t.state.gatherWoodButton,t.time),this.stoakFireButton.current&&this.stoakFireButton.current.init(t.state.stoakFireButton,t.time),this.makeTrapButton.current&&this.makeTrapButton.current.init(t.state.makeTrapButton,t.time))}},{key:"gatherWood",value:function(){var t;Y.dispatch({type:_.INC_WOOD,val:t}),O(.2)&&Y.dispatch(Q("Random sticks and twigs cover the dimly lit forrest floor.",w()+1))}},{key:"stoakFire",value:function(){Y.dispatch(J())}},{key:"makeTrap",value:function(){var t;Y.dispatch({type:_.INC_TRAPS,val:t}),Y.dispatch(J(this.props.inventory.traps.cost.wood))}},{key:"render",value:function(){var t,e=r.a.createElement(Et,{ref:this.gatherWoodButton,cooldown:"10000",text:"Gather wood",cb:this.gatherWood}),n=this.props.inventory.fire;t=n.visible?r.a.createElement(Et,{ref:this.stoakFireButton,cooldown:"8000",text:"Stoak fire",tooltip:S(n.cost),enabled:k(n.cost),cb:this.stoakFire}):"";var o,a=this.props.inventory.traps;if(a.visible){var i=k(a.cost);o=r.a.createElement(Et,{ref:this.makeTrapButton,cooldown:"8000",text:"Build trap",tooltip:S(a.cost),enabled:i,cb:this.makeTrap})}else o="";return r.a.createElement("div",{id:"dark-woods"},e,t,o)}}])&&kt(n.prototype,o),a&&kt(n,a),e}(),jt=Object(s.b)(function(t){return{inventory:t.inventory}},null,null,{forwardRef:!0})(Pt);n(89);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Rt=function(t){function e(t){var n,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(a=qt(e).call(this,t))||"object"!==Tt(a)&&"function"!=typeof a?Lt(o):a).checkTrapsButton=r.a.createRef(),n.init=n.init.bind(Lt(Lt(n))),n.state={},n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(e,r.a.Component),n=e,(o=[{key:"tick",value:function(){return{checkTrapsButton:this.checkTrapsButton.current?this.checkTrapsButton.current.tick():void 0}}},{key:"init",value:function(t){t.time&&this.checkTrapsButton.current&&t.state.checkTrapsButton&&this.checkTrapsButton.current.init(t.state.checkTrapsButton,t.time)}},{key:"checkTraps",value:function(){if(O(.1)){var t=Y.getState().inventory.traps.quantity;return Y.dispatch((e=1+Math.floor(Math.random()*t),{type:_.DEC_TRAPS,val:e})),void Y.dispatch(Q("The traps have been torn to pieces by something.",w()+1))}var e;Y.getState().inventory.furs.visible&&Y.getState().inventory.claws.visible||(Y.dispatch({type:_.EN_FURS}),Y.dispatch({type:_.EN_CLAWS})),Y.dispatch(function(t){return{type:_.INC_FURS,val:t}}()),Y.dispatch(function(t){return{type:_.INC_CLAWS,val:t}}()),O(.3)&&Y.dispatch(Q("You gather small bits of fur and claws to use later.",w()+1))}},{key:"render",value:function(){var t,e=this.props.inventory.traps;return t=e.visible?r.a.createElement(Et,{ref:this.checkTrapsButton,cooldown:"20000",text:"Check traps",enabled:e.quantity>0,cb:this.checkTraps}):"",r.a.createElement("div",{id:"stony-path"},t)}}])&&Ct(n.prototype,o),a&&Ct(n,a),e}(),It=Object(s.b)(function(t){return{inventory:t.inventory}},null,null,{forwardRef:!0})(Rt);function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Mt(t,e){return!e||"object"!==At(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Mt(this,Bt(e).call(this,t))).darkWoods=r.a.createRef(),n.stonyPath=r.a.createRef(),n.state={areas:["Dark Woods","Stony Path","Abandoned Mine","Trading Post"],area:"Dark Woods",data:{}},n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(e,r.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){v("Interface mounted")}},{key:"tick",value:function(){switch(v("Interface tick"),this.state.area){case"Dark Woods":this.setState({data:this.darkWoods.current.tick()});break;case"Stony Path":this.setState({data:this.stonyPath.current.tick()});break;default:v("Interface: No area to tick")}}},{key:"setArea",value:function(t){var e,n=this;"Dark Woods"==this.state.area?Y.dispatch((e=this.state.data,{type:_.UPDATE_DARK_WOODS,data:e})):"Stony Path"==this.state.area?Y.dispatch(function(t){return{type:_.UPDATE_STONY_PATH,data:t}}(this.state.data)):"Abandoned Mine"==this.state.area||this.state.areas,this.setState({area:t},function(){"Dark Woods"==n.state.area?n.darkWoods.current.init(Y.getState().areas.darkWoods):"Stony Path"==n.state.area?n.stonyPath.current.init(Y.getState().areas.stonyPath):"Abandoned Mine"==n.state.area||n.state.areas})}},{key:"render",value:function(){var t,e=this,n=[],o=Y.getState().areas;return o.darkWoods.enabled&&n.push("Dark Woods"),o.stonyPath.enabled&&n.push("Stony Path"),o.abandonedMine.enabled&&n.push("Abandoned Mine"),o.tradingPost.enabled&&n.push("Trading Post"),n=n.map(function(t){return t===e.state.area?r.a.createElement("p",{className:"area area-selected",key:t},r.a.createElement("u",null,t)):r.a.createElement("p",{className:"area area-unselected",onClick:function(){return e.setArea(t)},key:t},t)}),"Dark Woods"===this.state.area?t=r.a.createElement(jt,{ref:this.darkWoods}):"Stony Path"===this.state.area?t=r.a.createElement(It,{ref:this.stonyPath}):"Abandoned Mine"===this.state.area?t="":"Trading Post"===this.state.area&&(t=""),r.a.createElement("div",{id:"interface"},r.a.createElement("div",{className:"areas"},n),t)}}])&&Nt(n.prototype,o),a&&Nt(n,a),e}();function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ht=m.a.saveFreq,Jt=function(t){function e(t){var n,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(a=Kt(e).call(this,t))||"object"!==Ut(a)&&"function"!=typeof a?Yt(o):a).interface=r.a.createRef(),n.feed=r.a.createRef(),n.state={running:!0,delta:m.a.delta,loggedIn:!1},n.handleLogin=n.handleLogin.bind(Yt(Yt(n))),n.handleLogout=n.handleLogout.bind(Yt(Yt(n))),n.tick=n.tick.bind(Yt(Yt(n))),n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(e,r.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){setInterval(this.tick,this.state.delta)}},{key:"handleLogin",value:function(){this.setState({loggedIn:!0})}},{key:"handleLogout",value:function(){this.setState({loggedIn:!1})}},{key:"tick",value:function(){this.state.running&&(v("Tick"),this.interface.current.tick(),this.feed.current.tick()),(Ht-=m.a.delta)<=0&&(!function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("Saving game state ("+t+")");var e=Y.getState();if(e.progress.stop=(new Date).getTime(),e.dialogue.completed=[],t){var n=localStorage.getItem("token");y.a.post("/api/game",{game:e},{headers:{Authorization:"Bearer "+n}}).then(function(t){})}else localStorage.setItem("gameState",JSON.stringify(e))}(this.state.loggedIn),Ht=m.a.saveFreq)}},{key:"render",value:function(){return r.a.createElement("div",{id:"screen",className:"full"},r.a.createElement(lt,{ref:this.feed}),r.a.createElement(Ft,{ref:this.interface}),r.a.createElement(yt,null))}}])&&zt(n.prototype,o),a&&zt(n,a),e}();n(91);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var te=function(t){function e(t){var n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(r=Xt(e).call(this,t))||"object"!==Vt(r)&&"function"!=typeof r?$t(o):r).state={loggedIn:!1},localStorage.getItem("token")&&(n.state.loggedIn=!0),n.handleLogin=n.handleLogin.bind($t($t(n))),n.handleLogout=n.handleLogout.bind($t($t(n))),n.openLoginModal=n.openLoginModal.bind($t($t(n))),n}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(e,r.a.Component),n=e,(o=[{key:"openLoginModal",value:function(){this.props.openLoginModal()}},{key:"handleLogin",value:function(){this.setState({loggedIn:!0})}},{key:"handleLogout",value:function(){this.setState({loggedIn:!1}),localStorage.removeItem("token"),localStorage.removeItem("gameState"),localStorage.removeItem("username"),window.location.reload()}},{key:"render",value:function(){var t;if(this.state.loggedIn){var e=localStorage.getItem("username");t=r.a.createElement("p",{className:"bottom-button tooltip-top",tooltip:e,onClick:this.handleLogout},"Log out")}else t=r.a.createElement("p",{className:"bottom-button",onClick:this.openLoginModal},"Log in");return r.a.createElement("div",{id:"bottom-bar"},t)}}])&&Qt(n.prototype,o),a&&Qt(n,a),e}(),ee=n(36),ne=n(37);n(95);function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ie(t,e){return(ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var le=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=ae(e).call(this))||"object"!==oe(o)&&"function"!=typeof o?se(n):o).state={showModal:!1,login:!0,loginError:"",registerError:"",styles:{modal:{content:{top:"50%",left:"50%",width:"50%",height:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column"}},close:{float:"right"},login:{fields:{height:"80%",display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"20%",marginRight:"20%",paddingBottom:"10%"},title:{textAlign:"center"},username:{padding:"10px",marginBottom:"5px",fontSize:"12px"},password:{padding:"10px",marginTop:"5px",marginBottom:"5px",fontSize:"12px"},error:{color:"red",margin:"0px",textAlign:"center",fontSize:"14px"},login:{marginTop:"5px",backgroundColor:"#cccccc",border:"1px solid #b2b2b2",padding:"10px",color:"white"}},register:{fields:{height:"80%",display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"20%",marginRight:"20%",paddingBottom:"10%"},title:{textAlign:"center"},email:{padding:"10px",marginBottom:"5px",fontSize:"12px"},username:{padding:"10px",marginBottom:"5px",fontSize:"12px"},password:{padding:"10px",marginTop:"5px",marginBottom:"5px",fontSize:"12px"},error:{color:"red",margin:"0px",textAlign:"center",fontSize:"14px"},register:{marginTop:"5px",backgroundColor:"#cccccc",border:"1px solid #b2b2b2",padding:"10px",color:"white"}},toggle:{margin:"0px",textAlign:"center"}}},t.loginUsername=r.a.createRef(),t.loginPassword=r.a.createRef(),t.registerEmail=r.a.createRef(),t.registerUsername=r.a.createRef(),t.registerPassword=r.a.createRef(),t.handleOpenModal=t.handleOpenModal.bind(se(se(t))),t.handleCloseModal=t.handleCloseModal.bind(se(se(t))),t.handleKeyDownLogin=t.handleKeyDownLogin.bind(se(se(t))),t.handleKeyDownRegister=t.handleKeyDownRegister.bind(se(se(t))),t.login=t.login.bind(se(se(t))),t.register=t.register.bind(se(se(t))),t}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(e,r.a.Component),n=e,(o=[{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleKeyDownLogin",value:function(t){"Enter"===t.key&&this.login()}},{key:"handleKeyDownRegister",value:function(t){"Enter"===t.key&&this.register()}},{key:"login",value:function(){var t=this,e=this.loginUsername.current.value,n=this.loginPassword.current.value;y.a.post("/api/auth/login",{username:e,password:n}).then(function(e){if(e.data)if(e.data.error)t.setState({loginError:e.data.error});else if(e.data.token){var n=e.data.token,o=e.data.username;y.a.get("/api/game",{headers:{Authorization:"Bearer "+e.data.token}}).then(function(e){if(e.data.game&&e.data.game.inventory){var r=[];r.push(new Promise(function(t,n){Y.dispatch(X(e.data.game.areas))})),r.push(new Promise(function(t,n){Y.dispatch(V(e.data.game.dialogue))})),r.push(new Promise(function(t,n){Y.dispatch(H(e.data.game.inventory))})),r.push(new Promise(function(t,n){Y.dispatch(Z(e.data.game.progress))})),Promise.all(r),localStorage.setItem("token",n),localStorage.setItem("username",o),t.props.handleLogin(),t.handleCloseModal(),t.setState({loginError:""})}else localStorage.setItem("token",n),localStorage.setItem("username",o),t.props.handleLogin(),t.handleCloseModal(),t.setState({loginError:""})})}else t.setState({loginError:"Invalid server response"});else t.setState({loginError:"There was a problem servicing the request"})})}},{key:"register",value:function(){var t=this,e=this.registerEmail.current.value,n=this.registerUsername.current.value,o=this.registerPassword.current.value;y.a.post("/api/auth/register",{email:e,username:n,password:o}).then(function(e){e.data?e.data.error?t.setState({registerError:e.data.error}):t.setState({login:!0}):t.setState({registerError:"There was a problem servicing the request"})})}},{key:"render",value:function(){var t,e,n=this,o=r.a.createElement("p",{style:this.state.styles.login.error},this.state.loginError),a=r.a.createElement("p",{style:this.state.styles.register.error},this.state.registerError);return t=this.state.login?r.a.createElement("div",{style:this.state.styles.login.fields},r.a.createElement("h2",{style:this.state.styles.login.title},"Log In"),r.a.createElement("input",{type:"text",placeholder:"Username",style:this.state.styles.login.username,ref:this.loginUsername,onKeyDown:this.handleKeyDownLogin}),r.a.createElement("input",{type:"password",placeholder:"Password",style:this.state.styles.login.password,ref:this.loginPassword,onKeyDown:this.handleKeyDownLogin}),o,r.a.createElement("button",{onClick:this.login,style:this.state.styles.login.login},"Log in")):r.a.createElement("div",{style:this.state.styles.register.fields},r.a.createElement("h2",{style:this.state.styles.register.title},"Register"),r.a.createElement("input",{type:"text",placeholder:"Email",style:this.state.styles.register.email,ref:this.registerEmail,onKeyDown:this.handleKeyDownRegister}),r.a.createElement("input",{type:"text",placeholder:"Username",style:this.state.styles.register.username,ref:this.registerUsername,onKeyDown:this.handleKeyDownRegister}),r.a.createElement("input",{type:"password",placeholder:"Password",style:this.state.styles.register.password,ref:this.registerPassword,onKeyDown:this.handleKeyDownRegister}),a,r.a.createElement("button",{onClick:this.register,style:this.state.styles.register.register},"Register")),e=this.state.login?r.a.createElement("p",{style:this.state.styles.toggle,onClick:function(){return n.setState({login:!1})}},"Don't have an account? Register here."):r.a.createElement("p",{style:this.state.styles.toggle,onClick:function(){return n.setState({login:!0})}},"Already have an account? Log in here."),r.a.createElement("div",null,r.a.createElement(c.a,{isOpen:this.state.showModal,contentLabel:"Minimal Modal Example",style:this.state.styles.modal},r.a.createElement(ee.a,{icon:ne.a,onClick:this.handleCloseModal,style:this.state.styles.close}),t,e))}}])&&re(n.prototype,o),a&&re(n,a),e}();function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function de(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var he=function(t){function e(){var t,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,(t=!(o=pe(e).call(this))||"object"!==ce(o)&&"function"!=typeof o?de(n):o).openLoginModal=t.openLoginModal.bind(de(de(t))),t.handleLogin=t.handleLogin.bind(de(de(t))),t.handleLogout=t.handleLogout.bind(de(de(t))),t.loop=r.a.createRef(),t.bottomBar=r.a.createRef(),t.loginModal=r.a.createRef(),t.state={},t}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(e,r.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){var t=localStorage.getItem("token");t&&y.a.get("/api/game",{headers:{Authorization:"Bearer "+t}}).then(function(t){if(t.data.game&&t.data.game.inventory){var e=[];e.push(new Promise(function(e,n){Y.dispatch(X(t.data.game.areas))})),e.push(new Promise(function(e,n){Y.dispatch(V(t.data.game.dialogue))})),e.push(new Promise(function(e,n){Y.dispatch(H(t.data.game.inventory))})),e.push(new Promise(function(e,n){Y.dispatch(Z(t.data.game.progress))})),Promise.all(e)}})}},{key:"openLoginModal",value:function(){this.loginModal.current.handleOpenModal()}},{key:"handleLogin",value:function(){this.loop.current.handleLogin(),this.bottomBar.current.handleLogin()}},{key:"handleLogout",value:function(){this.loop.current.handleLogout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"full"},r.a.createElement("div",{id:"loop-container"},r.a.createElement(Jt,{ref:this.loop})),r.a.createElement("div",{id:"bottom-bar-container"},r.a.createElement(te,{ref:this.bottomBar,openLoginModal:this.openLoginModal,handleLogout:this.handleLogout})),r.a.createElement(le,{ref:this.loginModal,handleLogin:this.handleLogin}))}}])&&ue(n.prototype,o),a&&ue(n,a),e}(),ye=function(){return r.a.createElement(u.a,null,r.a.createElement(p.a,null,r.a.createElement(f.a,{path:"/",component:he}),r.a.createElement(f.a,{path:"*",render:function(){return r.a.createElement(d.a,{to:"/"})}})))},ge=function(){return r.a.createElement(ye,null)};n(98);c.a.setAppElement("#app"),i.a.render(r.a.createElement(s.a,{store:Y},r.a.createElement(ge,null)),document.getElementById("app"))},2:function(t,e){t.exports={SET_INVENTORY:"set_inventory",GET_WOOD:"get_wood",INC_WOOD:"inc_wood",DEC_WOOD:"dec_wood",EN_FURS:"en_furs",INC_FURS:"inc_furs",DEC_FURS:"dec_furs",INC_GOLD:"inc_gold",DEC_GOLD:"dec_gold",EN_FIRE:"enable_fire",EN_TRAPS:"enable_traps",INC_TRAPS:"inc_traps",DEC_TRAPS:"dec_traps",EN_CLAWS:"en_claws",INC_CLAWS:"inc_claws",DEC_CLAWS:"dec_claws",SET_DIALOGUE:"set_dialogue",ADD_LINE:"add_line",DELETE_LINES:"delete_lines",SET_AREAS:"set_areas",UPDATE_DARK_WOODS:"update_dark_woods",UPDATE_STONY_PATH:"update_stony_path",EN_STONY_PATH:"enable_stony_path",SET_PROGRESS:"set_progress",GET_TIME:"get_time"}},4:function(t,e){t.exports={delta:500,saveFreq:15e3,log:!1,dark:!1,maxFeedLength:15}},74:function(t,e,n){var o=n(75);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},75:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"html, body {\n  height: 100%; }\n\n#app {\n  height: 100%; }\n\n#loop-container {\n  height: 95%; }\n\n#bottom-bar-container {\n  height: 5%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center; }\n  #bottom-bar-container p {\n    margin: 0px; }\n\n.full {\n  height: 100%; }\n",""])},77:function(t,e,n){var o=n(78);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},78:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"#screen {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between; }\n\n.full {\n  height: 100%; }\n",""])},79:function(t,e,n){var o=n(80);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},80:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"#feed {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  overflow: hidden; }\n  #feed #lines {\n    width: 80%;\n    margin-top: 16px; }\n    #feed #lines p {\n      margin: 0px;\n      padding-bottom: 10px;\n      -webkit-animation: fadein 1s;\n      -moz-animation: fadein 1s;\n      -ms-animation: fadein 1s;\n      -o-animation: fadein 1s;\n      animation: fadein 1s; }\n",""])},81:function(t,e,n){var o=n(82);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},82:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"#inventory {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center; }\n  #inventory #materials {\n    border: 1px solid black;\n    padding: 10px;\n    margin: 16px;\n    width: 150px;\n    height: fit-content; }\n    #inventory #materials .material {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between; }\n    #inventory #materials p {\n      margin: 0px; }\n",""])},83:function(t,e,n){var o=n(84);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},84:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"#interface {\n  width: 100%; }\n  #interface .areas {\n    display: flex;\n    flex-direction: row; }\n    #interface .areas .area {\n      padding-left: 10px;\n      padding-right: 10px; }\n    #interface .areas .area:first-child {\n      padding-left: 0px; }\n    #interface .areas .area:last-child {\n      padding-right: 0px; }\n  #interface .area-unselected:hover {\n    cursor: pointer; }\n",""])},85:function(t,e,n){var o=n(86);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},86:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,".cooldown-button {\n  position: relative;\n  width: 120px;\n  height: 30px;\n  border: 1px solid black;\n  margin-bottom: 16px; }\n  .cooldown-button .cooldown {\n    height: 100%;\n    background: #cccccc; }\n  .cooldown-button p {\n    position: absolute;\n    width: 100%;\n    text-align: center; }\n  .cooldown-button .cooldown-button-text {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    z-index: 1; }\n    .cooldown-button .cooldown-button-text p {\n      margin: 0px;\n      z-index: 2; }\n\n.cooldown-enabled {\n  cursor: pointer; }\n\n.cooldown-disabled {\n  cursor: default; }\n",""])},87:function(t,e,n){var o=n(88);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},88:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"#dark-woods {\n  width: 100%;\n  position: fixed; }\n",""])},89:function(t,e,n){var o=n(90);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},90:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"#stony-path {\n  width: 100%; }\n",""])},91:function(t,e,n){var o=n(92);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},92:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"#bottom-bar {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-left: 10px;\n  margin-right: 10px; }\n  #bottom-bar p {\n    padding-left: 10px;\n    padding-right: 10px; }\n  #bottom-bar p:first-child {\n    padding-left: 0px; }\n  #bottom-bar p:last-child {\n    padding-right: 0px; }\n  #bottom-bar .bottom-button:hover {\n    cursor: pointer; }\n\n.full {\n  height: 100%; }\n",""])},95:function(t,e,n){var o=n(96);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},96:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"",""])},98:function(t,e,n){var o=n(99);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(10)(o,r);o.locals&&(t.exports=o.locals)},99:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"body {\n  margin: 10px;\n  height: calc(100% - 20px); }\n\n.full {\n  height: 100%; }\n\n/* Part of tooltip CSS from http://jsfiddle.net/AndreaLigios/jtLbpy62/ */\n[tooltip]:not([tooltip-persistent]):before {\n  pointer-events: none; }\n\n.tooltip-top[tooltip]:before {\n  content: attr(tooltip);\n  position: absolute;\n  opacity: 0;\n  padding: 5px;\n  border: 1px solid black;\n  z-index: 2; }\n\n.tooltip-top[tooltip]:hover:before {\n  opacity: 1;\n  background: white;\n  margin-top: -35px;\n  margin-left: -1px;\n  -webkit-animation: fadein 1s;\n  -moz-animation: fadein 0.2s;\n  -ms-animation: fadein 0.2s;\n  -o-animation: fadein 0.2s;\n  animation: fadein 0.2s; }\n\n.no-ingredients[tooltip]:before {\n  content: attr(tooltip);\n  position: absolute;\n  opacity: 0;\n  padding: 5px;\n  border: 1px solid black;\n  z-index: 2;\n  color: red; }\n\n.no-ingredients[tooltip]:hover:before {\n  opacity: 1;\n  background: white;\n  margin-top: 35px;\n  margin-left: -1px;\n  -webkit-animation: fadein 1s;\n  -moz-animation: fadein 0.2s;\n  -ms-animation: fadein 0.2s;\n  -o-animation: fadein 0.2s;\n  animation: fadein 0.2s; }\n\n[tooltip]:before {\n  content: attr(tooltip);\n  position: absolute;\n  opacity: 0;\n  padding: 5px;\n  border: 1px solid black;\n  z-index: 2; }\n\n[tooltip]:hover:before {\n  opacity: 1;\n  background: white;\n  margin-top: 35px;\n  margin-left: -1px;\n  -webkit-animation: fadein 1s;\n  -moz-animation: fadein 0.2s;\n  -ms-animation: fadein 0.2s;\n  -o-animation: fadein 0.2s;\n  animation: fadein 0.2s; }\n\n@keyframes fadein {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n\n/* https://stackoverflow.com/questions/22666063/how-to-fade-the-edge-of-a-div-with-just-css */\n.fade {\n  position: relative;\n  bottom: 4em;\n  height: 4em;\n  background: -webkit-linear-gradient(rgba(255, 255, 255, 0) 0%, white 100%); }\n",""])}});